<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="'Project: ' + ${project.name}">Project</title>
    <script src="/js/project.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-mono p-8">

<!-- Project Info -->
<div class="mb-10 max-w-3xl mx-auto">
    <h1 class="text-4xl font-bold text-green-400 mb-2" th:text="${project.name}">Project Name</h1>
    <p class="text-lg text-gray-300" th:text="${project.description}">Project description here.</p>
</div>

<!-- Methods List -->
<div th:each="method, iStat : ${methods}" class="bg-gray-800 p-6 rounded mb-6 shadow max-w-3xl mx-auto">
    <h2 class="text-2xl text-blue-300 font-semibold mb-1" th:text="${method.name}">Method Name</h2>
    <p class="text-sm text-gray-400 mb-4" th:text="${method.description}">Method description here.</p>

    <!-- Form -->
    <form th:attr="id=${'form-' + iStat.index}"
          th:onsubmit="'submitForm(event, ' + ${iStat.index} + ')'"
          class="space-y-3">

        <div th:each="p : ${method.parameters}">
            <label th:for="${p.key}" class="block text-sm text-gray-400" th:text="${p.name + ' (' + p.type + ')'}"></label>
            <input th:attr="name=${p.key}, id=${p.key + '-' + iStat.index}"
                   class="w-full p-2 rounded bg-gray-700 text-white" required />
        </div>

        <button type="submit"
                th:attr="data-link=${method.link}, data-index=${iStat.index}"
                class="mt-2 bg-green-500 hover:bg-green-400 text-black px-4 py-2 rounded">
            Run Method
        </button>
    </form>

    <!-- Output -->
    <div th:attr="id=${'result-' + iStat.index}" class="mt-4 text-yellow-300 text-sm whitespace-pre-wrap"></div>
</div>

<a href="/" class="text-blue-400 hover:underline block text-center mt-10">‚Üê Back to Projects</a>
</body>
</html>
